{{ define "locations_list.html" }}
<div class="table-container">
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–ê–¥—Ä–µ—Å</th>
            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            <th>–†–µ–π—Ç–∏–Ω–≥</th>
            <th>–¶–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
            <th>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {{range .Locations}}
        <tr>
            <td>{{.ID | shortenID}}</td>
            <td>
                <strong>{{.Name}}</strong><br>
                <small class="text-muted">{{.Email}}</small>
            </td>
            <td>{{.Address}}</td>
            <td>{{.Phone}}</td>
            <td>
                <span class="rating">
                    {{.Rating}} ‚òÖ ({{.ReviewCount}} –æ—Ç–∑—ã–≤–æ–≤)
                </span>
            </td>
            <td>
                {{if eq .PriceRange 1}}‚ÇΩ{{end}}
                {{if eq .PriceRange 2}}‚ÇΩ‚ÇΩ{{end}}
                {{if eq .PriceRange 3}}‚ÇΩ‚ÇΩ‚ÇΩ{{end}}
                {{if eq .PriceRange 4}}‚ÇΩ‚ÇΩ‚ÇΩ‚ÇΩ{{end}}
            </td>
            <td>
                <span class="status-badge status-{{.Status}}">
                    {{if eq .Status "pending"}}–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏{{end}}
                    {{if eq .Status "verified"}}–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω{{end}}
                    {{if eq .Status "suspended"}}–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω{{end}}
                    {{if eq .Status "rejected"}}–û—Ç–∫–ª–æ–Ω—ë–Ω{{end}}
                </span>
            </td>
            <td>
                {{$features := formatFeatures .Features}}
                {{if $features}}
                    <div class="features">
                        {{range split $features ", "}}
                        <span class="feature-tag">{{.}}</span>
                        {{end}}
                    </div>
                {{else}}
                    -
                {{end}}
            </td>
            <td>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary"
                            hx-get="/locations/form?id={{.ID}}"
                            hx-target="#modal-body"
                            onclick="VendERP.showModal()">
                        ‚úèÔ∏è
                    </button>
                    <button class="btn btn-danger"
                            hx-delete="/locations/delete?id={{.ID}}"
                            hx-target="#locations-table"
                            hx-confirm="–£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω?">
                        üóëÔ∏è
                    </button>
                </div>
            </td>
        </tr>
        {{else}}
        <tr>
            <td colspan="9" style="text-align: center; padding: 2rem; color: var(--secondary);">
                –ù–µ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤. 
                <button class="btn btn-primary"
                        hx-get="/locations/form"
                        hx-target="#modal-body"
                        onclick="VendERP.showModal()">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω
                </button>
            </td>
        </tr>
        {{end}}
    </tbody>
</table>
</div>
{{ end }}